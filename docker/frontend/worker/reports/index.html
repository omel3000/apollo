<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Rejestracja Czasu Pracy</title>
  <style>
    /* Ukryj całą stronę zanim potwierdzimy uprawnienia */
    /* html { visibility: hidden; } */
  </style>
  <script src="/worker/auth-worker.js"></script>
  <script src="/logout.js"></script>
  <script src="/worker/date-navigator.js"></script>
  <script src="/worker/reports/reports.js"></script>
</head>
<body>
  <!-- Top bar -->
  <header>
    <h1 style="display:inline-block;">Rejestracja Czasu Pracy</h1>
    <div style="float:right;">
      <a href="/worker/account/">Konto</a>
      <a href="/logout">Wyloguj</a>
    </div>
  </header>
  <hr>

  <!-- Navigation -->
  <nav>
    <ul>
      <li><a href="/worker/">Strona główna</a></li>
      <li><a href="/worker/reports/">Rejestracja czasu pracy</a></li>
      <li><a href="/worker/summary/">Podsumowania</a></li>
    </ul>
  </nav>
  <hr>
<!-- Example calendar panel (placeholder) -->
  <aside>
    <h3>Kalendarz</h3>
    <p>[Tu będzie kalendarz]</p>
  </aside>

  <!-- Main panel - date, total time, form -->
  <main>
    <h2 id="dayName">Dzień tygodnia</h2>
    <p id="dateDisplay">Data dd.mm.rrrr</p>
    <p>Łącznie: 1h 0min</p>

    <!-- Przyciski do zmiany dnia -->
    <form method="get" action="/worker/reports.html">
      <button type="button" id="prevDayBtn">&lt;-</button>
      <button type="button" id="todayBtn">Bieżący dzień</button>
      <button type="button" id="nextDayBtn">-&gt;</button>
    </form>

    <hr>
    <!-- Form to register working time -->
    <form method="post" action="/worker/addreport">
      <label for="projektSelect">Projekt:</label>
      <select name="projekt" id="projektSelect">
        <option value="">Ładowanie...</option>
      </select><br><br>

      <label for="opis">Opis (opcjonalny):</label>
      <textarea name="opis" id="opis"></textarea><br><br>

      <label for="czas_h">Czas pracy:</label>
      <input type="number" id="czas_h" name="czas_h" min="0" max="24" value="0"> h
      <input type="number" id="czas_m" name="czas_m" min="0" max="59" value="0"> min
      <br><br>

      <button type="submit" id="saveBtn">Zapisz</button>
      <button type="reset">Usuń</button>
    </form>

    <hr>

    <section>
      <h3>Twoje wpisy dla wybranego dnia</h3>
      <div id="existingReports">
        <p>Ładowanie wpisów...</p>
      </div>
    </section>
  </main>

</body>
</html>
